{% extends 'base.html' %}

{% block links %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user-page-styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/post-styles.css') }}">

{% endblock links%}



{% block content %}

    <div class="container-fluid user-info">
        <div class="row">

            <!-- Left span -->
            <div class="col-md-2">

            </div>

            <!-- Main part -->
            <div class="col-md-8">

                <div class="row">
                    <div class="col-md-5">
                        <img src="{{ user.get_avatar(128) }}" alt="user_avatar" class="avatar">
        
                        <h1>{{ user.full_name }} <div class="username">@{{ user.username }}</div></h1>        
                    </div>
        
                    <div class="col-md-7">
                        {% if user.about_me %}
                            <p>{{ user.about_me }}</p>
                        {% endif %}
                    </div>
                </div>

                <div class="row">
                    <p>Last seen on: {{ user.get_last_seen }}</p>
        
                    {% if user == current_user %}
                        <p><a href="{{ url_for('edit_profile') }}" class="btn btn-info edit-button">Edit your profile</a></p>
                    {% elif not current_user.is_following(user) %}
                        <p><a href="{{ url_for('follow', username=user.username) }}" class="follow-link">Follow</a></p>
                    {% else %}
                        <p><a href="{{ url_for('unfollow', username=user.username) }}" class="follow-link">Unfollow</a></p>
                    {% endif %}
                </div>

                <hr>

                <div class="row">
                    {% if user == current_user %}
                        <div class="write-post-block">
                            <span class="what_on_mind_phrase">Whats on your mind?</span>
                            <a href="{{ url_for('create_post') }}" class="create-post-link">Create post</a>
                        </div>
                    {% endif %}
                </div>
        

            </div>

            <!-- Right span -->
            <div class="col-md-2">

            </div>
        </div>   
    
    </div>


    <!-- <div class="row"> -->
        


        {% for post in posts %}
                {% include '_post.html' %}
        {% endfor %}

        {% if prev_page %}
            <a href="{{ prev_page }}">Newer posts</a>
        {% endif %}

        {% if next_page %}
            <a href="{{ next_page }}">Older posts</a>
        {% endif %}
    <!-- </div> -->
{% endblock content %}